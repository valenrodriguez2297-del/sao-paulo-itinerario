<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SÃ£o Paulo Â· Itinerario de Viaje</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  :root {
    --verde: #1a6b4a;
    --verde-claro: #2d9669;
    --amarillo: #f5c842;
    --crema: #fdf6ec;
    --marron: #3d2b1f;
    --gris: #6b6b6b;
    --blanco: #ffffff;
    --sombra: 0 4px 24px rgba(0,0,0,0.10);

    --d1: #1a6b4a;
    --d2: #b5451b;
    --d3: #2563a8;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--crema);
    color: var(--marron);
    min-height: 100vh;
  }

  /* HEADER */
  header {
    background: var(--verde);
    color: var(--crema);
    padding: 48px 32px 36px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  header::before {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 20px,
      rgba(255,255,255,0.03) 20px,
      rgba(255,255,255,0.03) 40px
    );
  }
  header .badge {
    display: inline-block;
    background: var(--amarillo);
    color: var(--marron);
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 5px 14px;
    border-radius: 20px;
    margin-bottom: 16px;
  }
  header h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(32px, 6vw, 56px);
    line-height: 1.1;
    margin-bottom: 10px;
  }
  header h1 em {
    font-style: italic;
    color: var(--amarillo);
  }
  header p {
    font-size: 15px;
    opacity: 0.75;
    font-weight: 300;
  }

  /* TABS */
  .tabs-wrap {
    position: sticky;
    top: 0;
    z-index: 100;
    background: var(--blanco);
    border-bottom: 2px solid rgba(0,0,0,0.07);
    box-shadow: 0 2px 12px rgba(0,0,0,0.07);
  }
  .tabs {
    display: flex;
    max-width: 820px;
    margin: 0 auto;
  }
  .tab {
    flex: 1;
    padding: 16px 8px;
    text-align: center;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 0.5px;
    color: var(--gris);
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
    user-select: none;
  }
  .tab:hover { color: var(--marron); }
  .tab.active-d1 { color: var(--d1); border-bottom-color: var(--d1); }
  .tab.active-d2 { color: var(--d2); border-bottom-color: var(--d2); }
  .tab.active-d3 { color: var(--d3); border-bottom-color: var(--d3); }

  .tab .dia-num {
    display: block;
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 2px;
  }
  .tab .dia-label { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; }

  /* MAIN LAYOUT */
  .main {
    max-width: 820px;
    margin: 0 auto;
    padding: 32px 16px 64px;
  }

  /* DAY PANEL */
  .day-panel { display: none; }
  .day-panel.active { display: block; animation: fadeIn 0.35s ease; }
  @keyframes fadeIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }

  .day-header {
    margin-bottom: 28px;
    padding: 24px 28px;
    border-radius: 16px;
    color: white;
    position: relative;
    overflow: hidden;
  }
  .day-header::after {
    content: attr(data-emoji);
    position: absolute;
    right: 24px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 56px;
    opacity: 0.25;
  }
  .day-header.d1 { background: linear-gradient(135deg, #1a6b4a, #2d9669); }
  .day-header.d2 { background: linear-gradient(135deg, #b5451b, #e05a2b); }
  .day-header.d3 { background: linear-gradient(135deg, #2563a8, #3b82d6); }

  .day-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: 26px;
    margin-bottom: 4px;
  }
  .day-header p { font-size: 14px; opacity: 0.85; font-weight: 300; }

  /* MAPA */
  .map-section {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    margin-bottom: 28px;
    box-shadow: var(--sombra);
  }
  .map-section h3 {
    padding: 16px 20px 12px;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--gris);
    border-bottom: 1px solid #f0f0f0;
  }
  .map-embed {
    width: 100%;
    height: 340px;
    border: none;
    display: block;
    z-index: 1;
  }

  /* STOPS */
  .stops { display: flex; flex-direction: column; gap: 14px; }

  .stop {
    background: white;
    border-radius: 14px;
    padding: 20px 22px;
    box-shadow: var(--sombra);
    display: grid;
    grid-template-columns: 48px 1fr;
    gap: 16px;
    align-items: start;
    border-left: 4px solid transparent;
    transition: transform 0.18s;
    text-decoration: none;
    color: inherit;
  }
  .stop:hover { transform: translateY(-2px); }
  .stop.d1 { border-left-color: var(--d1); }
  .stop.d2 { border-left-color: var(--d2); }
  .stop.d3 { border-left-color: var(--d3); }

  .stop-num {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 700;
    color: white;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .stop.d1 .stop-num { background: var(--d1); }
  .stop.d2 .stop-num { background: var(--d2); }
  .stop.d3 .stop-num { background: var(--d3); }

  .stop-time {
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--gris);
    margin-bottom: 4px;
  }
  .stop-name {
    font-family: 'Playfair Display', serif;
    font-size: 17px;
    font-weight: 700;
    margin-bottom: 6px;
    line-height: 1.2;
  }
  .stop-note {
    font-size: 13.5px;
    color: var(--gris);
    line-height: 1.55;
    font-weight: 300;
  }
  .stop-tag {
    display: inline-block;
    margin-top: 8px;
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 20px;
    font-weight: 500;
    letter-spacing: 0.5px;
  }
  .tag-food { background: #fef3c7; color: #92400e; }
  .tag-cultura { background: #dcfce7; color: #166534; }
  .tag-vista { background: #e0f2fe; color: #0c4a6e; }
  .tag-ocio { background: #fce7f3; color: #9d174d; }
  .tag-shopping { background: #f3e8ff; color: #6b21a8; }
  .tag-bar { background: #fff7ed; color: #9a3412; }

  /* TIPS */
  .tips-box {
    background: #fffbeb;
    border: 1px solid #fde68a;
    border-radius: 14px;
    padding: 20px 22px;
    margin-top: 28px;
  }
  .tips-box h4 {
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: #92400e;
    margin-bottom: 12px;
  }
  .tips-box ul { padding-left: 18px; }
  .tips-box li {
    font-size: 13.5px;
    color: #78350f;
    margin-bottom: 7px;
    line-height: 1.5;
    font-weight: 300;
  }
  .tips-box li strong { font-weight: 500; }

  /* FOOTER */
  footer {
    text-align: center;
    padding: 32px 16px;
    font-size: 12px;
    color: var(--gris);
    border-top: 1px solid #e5e5e5;
  }

  @media (max-width: 540px) {
    header { padding: 36px 20px 28px; }
    .stop { grid-template-columns: 40px 1fr; gap: 12px; }
    .stop-name { font-size: 15px; }
  }
</style>
</head>
<body>

<header>
  <div class="badge">ğŸ‡§ğŸ‡· Itinerario de viaje</div>
  <h1>SÃ£o <em>Paulo</em></h1>
  <p>Viernes Â· SÃ¡bado Â· Domingo &nbsp;|&nbsp; 3 dÃ­as con amor, historia y mucho sabor vegano</p>
</header>

<div class="tabs-wrap">
  <div class="tabs">
    <div class="tab active-d1" onclick="showDay(1)" id="tab1">
      <span class="dia-num">01</span>
      <span class="dia-label">Viernes</span>
    </div>
    <div class="tab" onclick="showDay(2)" id="tab2">
      <span class="dia-num">02</span>
      <span class="dia-label">SÃ¡bado</span>
    </div>
    <div class="tab" onclick="showDay(3)" id="tab3">
      <span class="dia-num">03</span>
      <span class="dia-label">Domingo</span>
    </div>
  </div>
</div>

<div class="main">

  <!-- ====== DÃA 1 ====== -->
  <div class="day-panel active" id="day1">
    <div class="day-header d1" data-emoji="ğŸ›ï¸">
      <h2>Viernes â€” Consulado + Arte + TerraÃ§o</h2>
      <p>TrÃ¡mite express y una tarde intensa por Paulista, la Pinacoteca y el cielo de SP</p>
    </div>

    <div class="map-section">
      <h3>ğŸ“ Recorrido del dÃ­a</h3>
      <div id="map1" class="map-embed"></div>
    </div>

    <div class="stops">

      <div class="stop d1">
        <div class="stop-num">1</div>
        <div>
          <div class="stop-time">8:00 AM Â· Desayuno</div>
          <div class="stop-name">Good Market</div>
          <div class="stop-note">CafÃ© con ambiente y opciones veganas en Jardins. Avocado toast, jugos frescos y el mejor flat white para arrancar el dÃ­a con energÃ­a.</div>
          <span class="stop-tag tag-food">ğŸ¥‘ Vegano-friendly</span>
        </div>
      </div>

      <div class="stop d1">
        <div class="stop-num">2</div>
        <div>
          <div class="stop-time">11:30 AM Â· TrÃ¡mite</div>
          <div class="stop-name">Consulado Argentino â€” Av. Paulista</div>
          <div class="stop-note">Llegar 15 minutos antes. La Paulista estÃ¡ a pasos â€” aprovechen el barrio despuÃ©s.</div>
          <span class="stop-tag tag-cultura">ğŸ“‹ GestiÃ³n</span>
        </div>
      </div>

      <div class="stop d1">
        <div class="stop-num">3</div>
        <div>
          <div class="stop-time">1:00 PM Â· Almuerzo</div>
          <div class="stop-name">Taste and See â€” Restaurante Vegano</div>
          <div class="stop-note">Comida casera brasilera 100% vegana. Feijoada vegana, yakisoba y un ambiente que parece casa de abuela. A pasos del consulado. Cierra viernes a las 4 PM.</div>
          <span class="stop-tag tag-food">ğŸŒ± 100% vegano</span>
        </div>
      </div>

      <div class="stop d1">
        <div class="stop-num">4</div>
        <div>
          <div class="stop-time">2:30 PM Â· Cultura</div>
          <div class="stop-name">MASP â€” Museu de Arte de SÃ£o Paulo</div>
          <div class="stop-note">La fachada suspendida mÃ¡s icÃ³nica de Brasil sobre la Paulista. El viernes cierra a las 9 PM si quieren entrar. Si no, la arquitectura desde afuera ya es memorable.</div>
          <span class="stop-tag tag-cultura">ğŸ¨ Museo</span>
        </div>
      </div>

      <div class="stop d1">
        <div class="stop-num">5</div>
        <div>
          <div class="stop-time">4:30 PM Â· Cultura</div>
          <div class="stop-name">Pinacoteca de SÃ£o Paulo</div>
          <div class="stop-note">El museo de arte mÃ¡s querido de SP, en un edificio histÃ³rico del siglo XIX. Cierra a las 6 PM. Reserven al menos una hora adentro.</div>
          <span class="stop-tag tag-cultura">ğŸ–¼ï¸ Museo Â· 4.8 â­</span>
        </div>
      </div>

      <div class="stop d1">
        <div class="stop-num">6</div>
        <div>
          <div class="stop-time">8:00 PM Â· Cena & Vista</div>
          <div class="stop-name">TerraÃ§o ItÃ¡lia ğŸ¸</div>
          <div class="stop-note">Piso 41, vista panorÃ¡mica de 360Â° de toda SP. CoctelerÃ­a clÃ¡sica, atmÃ³sfera refinada. Reserva obligatoria en terracoitalia.com.br. Llevar a la suegra a este brinda puntos infinitos.</div>
          <span class="stop-tag tag-vista">ğŸŒƒ Vista + CÃ³cteles Â· Luxury</span>
        </div>
      </div>

    </div>

    <div class="tips-box">
      <h4>ğŸ’¡ Tips del Viernes</h4>
      <ul>
        <li><strong>Sampa Sky:</strong> Si quieren hacer el Sampa Sky tambiÃ©n este dÃ­a, es posible entre la Pinacoteca y la cena â€” estÃ¡ a 15 minutos en Uber desde la Pina.</li>
        <li><strong>Metro:</strong> La lÃ­nea 2 verde conecta ConsolaÃ§Ã£o/Paulista con Luz (Pinacoteca) en 10 minutos.</li>
        <li><strong>TerraÃ§o ItÃ¡lia:</strong> Reservar con varios dÃ­as de anticipaciÃ³n, especialmente viernes por la noche.</li>
      </ul>
    </div>
  </div>

  <!-- ====== DÃA 2 ====== -->
  <div class="day-panel" id="day2">
    <div class="day-header d2" data-emoji="ğŸ¯">
      <h2>SÃ¡bado â€” Centro HistÃ³rico + Liberdade + Vila Madalena</h2>
      <p>El dÃ­a mÃ¡s completo: arquitectura monumental, barrio japonÃ©s, murales y samba en vivo</p>
    </div>

    <div class="map-section">
      <h3>ğŸ“ Recorrido del dÃ­a</h3>
      <div id="map2" class="map-embed"></div>
    </div>

    <div class="stops">

      <div class="stop d2">
        <div class="stop-num">1</div>
        <div>
          <div class="stop-time">8:30 AM Â· Desayuno</div>
          <div class="stop-name">Mercado Municipal â€” MercadÃ£o</div>
          <div class="stop-note">El edificio art nouveau mÃ¡s imponente del centro. Vitrales inmensos, frutas exÃ³ticas, especias y el ambiente del SP de otra Ã©poca. El mejor lugar para arrancar el dÃ­a histÃ³rico.</div>
          <span class="stop-tag tag-cultura">ğŸ›ï¸ Patrimonio Â· Abre 6 AM</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">2</div>
        <div>
          <div class="stop-time">10:00 AM Â· Mirador</div>
          <div class="stop-name">Sampa Sky ğŸ™ï¸</div>
          <div class="stop-note">Mirador con pisos de vidrio transparente â€” la mejor vista del centro histÃ³rico desde las alturas. Comprar tickets online en sampasky.com.br. SÃ¡bados abre desde las 9 AM.</div>
          <span class="stop-tag tag-vista">ğŸ”­ Mirador Â· Tickets online</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">3</div>
        <div>
          <div class="stop-time">12:00 PM Â· Arquitectura</div>
          <div class="stop-name">Theatro Municipal de SÃ£o Paulo</div>
          <div class="stop-note">Una de las obras mÃ¡s bellas de SP, inspirada en la Ã“pera Garnier de ParÃ­s. El sÃ¡bado abre visitas de 10 AM a 4:20 PM. Desde el Viaduto do ChÃ¡ al lado tienen la vista clÃ¡sica del teatro sobre el Valle do AnhangabaÃº.</div>
          <span class="stop-tag tag-cultura">ğŸ­ Teatro Â· 4.8 â­</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">4</div>
        <div>
          <div class="stop-time">1:00 PM Â· Cultura</div>
          <div class="stop-name">Catedral da SÃ©</div>
          <div class="stop-note">La catedral neogÃ³tica mÃ¡s grande de Brasil. Visita rÃ¡pida pero imponente. Entrada gratuita. Zona con movimiento â€” guardar objetos de valor, hay presencia policial visible.</div>
          <span class="stop-tag tag-cultura">â›ª Catedral Â· Gratis</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">5</div>
        <div>
          <div class="stop-time">1:45 PM Â· Barrio</div>
          <div class="stop-name">Liberdade â€” Barrio JaponÃ©s ğŸ®</div>
          <div class="stop-note">A 5 minutos caminando de la SÃ©. Rua GalvÃ£o Bueno con faroles rojos, tiendas de anime, papelerÃ­as japonesas y panaderÃ­as de mochi. El barrio japonÃ©s mÃ¡s grande de LatinoamÃ©rica.</div>
          <span class="stop-tag tag-cultura">ğŸ—¾ Cultura japonesa</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">6</div>
        <div>
          <div class="stop-time">2:30 PM Â· Almuerzo</div>
          <div class="stop-name">Lamen Kazu</div>
          <div class="stop-note">El ramen mÃ¡s famoso de Liberdade. Pedir el ramen vegetariano (caldo de vegetales) para las veganas. SÃ¡bados abre desde las 11 AM. Suele haber cola â€” vale la espera.</div>
          <span class="stop-tag tag-food">ğŸœ Ramen Â· 4.6 â­</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">7</div>
        <div>
          <div class="stop-time">4:30 PM Â· Arte Urbano</div>
          <div class="stop-name">Beco do Batman â€” Vila Madalena</div>
          <div class="stop-note">El callejÃ³n de murales mÃ¡s vibrante de SP. Arte urbano que cambia constantemente, ambiente relajado, cafÃ©s y bares al lado. Gratuito y abierto siempre. Uber desde Liberdade ~15 min.</div>
          <span class="stop-tag tag-cultura">ğŸ¨ Arte urbano Â· Gratis</span>
        </div>
      </div>

      <div class="stop d2">
        <div class="stop-num">8</div>
        <div>
          <div class="stop-time">8:00 PM Â· Noche</div>
          <div class="stop-name">O Pasquim Bar e Prosa ğŸ¶</div>
          <div class="stop-note">Bar con mucha onda en Vila Madalena. MÃºsica en vivo los sÃ¡bados (frecuentemente samba), cÃ³cteles brasile&ntilde;os y petiscos. Ambiente Ã­ntimo y cÃ¡lido, perfecto para los tres. Vuelta en Uber sin problema.</div>
          <span class="stop-tag tag-bar">ğŸ¹ Samba en vivo Â· Vila Madalena</span>
        </div>
      </div>

    </div>

    <div class="tips-box">
      <h4>ğŸ’¡ Tips del SÃ¡bado</h4>
      <ul>
        <li><strong>Centro histÃ³rico:</strong> Ideal recorrerlo entre 9 AM y 1 PM â€” mÃ¡s actividad y mÃ¡s seguro.</li>
        <li><strong>Metro lÃ­nea 3 roja:</strong> Conecta el centro con Liberdade en una sola parada (estaciÃ³n SÃ© â†’ Liberdade).</li>
        <li><strong>Sampa Sky:</strong> Comprar tickets en ticketmaster.com.br con horario para evitar fila de 1 hora.</li>
        <li><strong>Theatro Municipal:</strong> Si quieren entrar, reservar tour en theatromunicipal.org.br.</li>
        <li><strong>Shopping opcional:</strong> Shops Jardins queda a 10 min en Uber de Vila Madalena si quieren agregarla antes de la noche.</li>
      </ul>
    </div>
  </div>

  <!-- ====== DÃA 3 ====== -->
  <div class="day-panel" id="day3">
    <div class="day-header d3" data-emoji="â˜•">
      <h2>Domingo â€” Brunch tranquilo + TietÃª</h2>
      <p>MaÃ±ana calma, buen cafÃ© y cierre con sabor antes de volver al camino</p>
    </div>

    <div class="map-section">
      <h3>ğŸ“ Recorrido del dÃ­a</h3>
      <div id="map3" class="map-embed"></div>
    </div>

    <div class="stops">

      <div class="stop d3">
        <div class="stop-num">1</div>
        <div>
          <div class="stop-time">9:00 AM Â· Brunch</div>
          <div class="stop-name">BotanikafÃ© Jardins â˜•ğŸŒ¿</div>
          <div class="stop-note">Brunch rodeado de plantas tropicales en pleno Jardins. Opciones saludables, gluten free y veganas. El ambiente es uno de los mÃ¡s hermosos de SP â€” el cierre perfecto del fin de semana. Abre desde las 8 AM.</div>
          <span class="stop-tag tag-food">ğŸŒ¿ Vegano-friendly Â· 4.4 â­</span>
        </div>
      </div>

      <div class="stop d3">
        <div class="stop-num">2</div>
        <div>
          <div class="stop-time">12:00 PM Â· Partida</div>
          <div class="stop-name">Terminal RodoviÃ¡rio TietÃª ğŸšŒ</div>
          <div class="stop-note">Check-out del hotel y Uber directo al TietÃª. El viaje desde Jardins tarda entre 20 y 40 minutos segÃºn el trÃ¡fico dominical. Â¡Buen viaje de vuelta a Ubatuba!</div>
          <span class="stop-tag tag-cultura">ğŸšŒ Terminal Â· Uber desde el hotel</span>
        </div>
      </div>

    </div>

    <div class="tips-box">
      <h4>ğŸ’¡ Tips del Domingo</h4>
      <ul>
        <li><strong>BotanikafÃ©:</strong> Sin reserva necesaria, pero llegar temprano los domingos para asegurarse mesa.</li>
        <li><strong>Check-out:</strong> Coordinar con el hotel para dejar el equipaje mientras desayunan si el check-out es al mediodÃ­a.</li>
        <li><strong>TietÃª:</strong> El Uber desde Jardins al terminal cuesta aproximadamente R$25â€“45 segÃºn el trÃ¡fico. Pedir con anticipaciÃ³n.</li>
        <li><strong>Opcional:</strong> Si sobra tiempo antes del bus, el MASP o la Feira da Liberdade (feria japonesa dominical en Liberdade) son opciones a 15 min en Uber.</li>
      </ul>
    </div>
  </div>

</div>

<footer>
  Itinerario creado con â¤ï¸ Â· SÃ£o Paulo Â· Viernes a Domingo Â· ğŸŒ± Apto vegano
</footer>

<script>
  // â”€â”€ Colores por dÃ­a â”€â”€
  const COLORS = { 1: '#1a6b4a', 2: '#b5451b', 3: '#2563a8' };

  // â”€â”€ Puntos por dÃ­a â”€â”€
  const DAYS = {
    1: {
      center: [-23.555, -46.648], zoom: 13,
      stops: [
        { lat: -23.5721, lng: -46.6592, n: 1, name: 'Good Market', time: '8:00 AM' },
        { lat: -23.5612, lng: -46.6562, n: 2, name: 'Consulado Argentino', time: '11:30 AM' },
        { lat: -23.5640, lng: -46.6516, n: 3, name: 'Taste and See Vegano', time: '1:00 PM' },
        { lat: -23.5614, lng: -46.6559, n: 4, name: 'MASP', time: '2:30 PM' },
        { lat: -23.5344, lng: -46.6337, n: 5, name: 'Pinacoteca de SÃ£o Paulo', time: '4:30 PM' },
        { lat: -23.5455, lng: -46.6437, n: 6, name: 'TerraÃ§o ItÃ¡lia ğŸ¸', time: '8:00 PM' },
      ]
    },
    2: {
      center: [-23.558, -46.656], zoom: 13,
      stops: [
        { lat: -23.5420, lng: -46.6294, n: 1, name: 'Mercado Municipal', time: '8:30 AM' },
        { lat: -23.5420, lng: -46.6358, n: 2, name: 'Sampa Sky ğŸ™ï¸', time: '10:00 AM' },
        { lat: -23.5452, lng: -46.6386, n: 3, name: 'Theatro Municipal', time: '12:00 PM' },
        { lat: -23.5513, lng: -46.6343, n: 4, name: 'Catedral da SÃ©', time: '1:00 PM' },
        { lat: -23.5562, lng: -46.6348, n: 5, name: 'Liberdade ğŸ®', time: '1:45 PM' },
        { lat: -23.5577, lng: -46.6355, n: 6, name: 'Lamen Kazu', time: '2:30 PM' },
        { lat: -23.5566, lng: -46.6866, n: 7, name: 'Beco do Batman', time: '4:30 PM' },
        { lat: -23.5579, lng: -46.6903, n: 8, name: 'O Pasquim Bar ğŸ¶', time: '8:00 PM' },
      ]
    },
    3: {
      center: [-23.538, -46.645], zoom: 13,
      stops: [
        { lat: -23.5625, lng: -46.6678, n: 1, name: 'BotanikafÃ© Jardins â˜•', time: '9:00 AM' },
        { lat: -23.5151, lng: -46.6230, n: 2, name: 'Terminal TietÃª ğŸšŒ', time: '12:00 PM' },
      ]
    }
  };

  const maps = {};

  function makeIcon(n, color) {
    return L.divIcon({
      className: '',
      html: `<div style="
        width:32px;height:32px;border-radius:50%;
        background:${color};color:#fff;
        display:flex;align-items:center;justify-content:center;
        font-family:'Playfair Display',serif;font-size:15px;font-weight:700;
        box-shadow:0 2px 8px rgba(0,0,0,0.25);
        border:2px solid white;
      ">${n}</div>`,
      iconSize: [32, 32],
      iconAnchor: [16, 16],
      popupAnchor: [0, -18]
    });
  }

  function initMap(dayNum) {
    if (maps[dayNum]) return; // ya inicializado
    const cfg = DAYS[dayNum];
    const color = COLORS[dayNum];
    const m = L.map('map' + dayNum, { zoomControl: true, scrollWheelZoom: false })
               .setView(cfg.center, cfg.zoom);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      maxZoom: 19
    }).addTo(m);

    const latlngs = [];
    cfg.stops.forEach(s => {
      latlngs.push([s.lat, s.lng]);
      L.marker([s.lat, s.lng], { icon: makeIcon(s.n, color) })
        .addTo(m)
        .bindPopup(`<strong style="font-family:'Playfair Display',serif;">${s.name}</strong><br><span style="font-size:12px;color:#666;">${s.time}</span>`);
    });

    // LÃ­nea de ruta entre puntos
    L.polyline(latlngs, { color, weight: 2.5, opacity: 0.6, dashArray: '6,6' }).addTo(m);

    maps[dayNum] = m;
  }

  function showDay(n) {
    document.querySelectorAll('.day-panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(t => t.className = 'tab');
    document.getElementById('day' + n).classList.add('active');
    document.getElementById('tab' + n).classList.add('active-d' + n);
    // PequeÃ±o delay para que el div sea visible antes de init
    setTimeout(() => {
      initMap(n);
      if (maps[n]) maps[n].invalidateSize();
    }, 50);
  }

  // Inicializar dÃ­a 1 al cargar
  window.addEventListener('load', () => { initMap(1); });
</script>
</body>
</html>
